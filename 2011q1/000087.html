<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [net-tools-cvscommit] net-tools/lib net-support.h, 1.16,	1.17 interface.c, 1.34, 1.35
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/net-tools-cvscommit/2011q1/index.html" >
   <LINK REL="made" HREF="mailto:net-tools-cvscommit%40lists.berlios.de?Subject=Re%3A%20%5Bnet-tools-cvscommit%5D%20net-tools/lib%20net-support.h%2C%201.16%2C%0A%091.17%20interface.c%2C%201.34%2C%201.35&In-Reply-To=%3C20110101032234.326D548078E%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000088.html">
   <LINK REL="Next"  HREF="000089.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[net-tools-cvscommit] net-tools/lib net-support.h, 1.16,	1.17 interface.c, 1.34, 1.35</H1>
    <B>CVS Commits for net-tools project</B> 
    <A HREF="mailto:net-tools-cvscommit%40lists.berlios.de?Subject=Re%3A%20%5Bnet-tools-cvscommit%5D%20net-tools/lib%20net-support.h%2C%201.16%2C%0A%091.17%20interface.c%2C%201.34%2C%201.35&In-Reply-To=%3C20110101032234.326D548078E%40sheep.berlios.de%3E"
       TITLE="[net-tools-cvscommit] net-tools/lib net-support.h, 1.16,	1.17 interface.c, 1.34, 1.35">net-tools-cvscommit at lists.berlios.de
       </A><BR>
    <I>Sat Jan  1 04:22:34 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000088.html">[net-tools-cvscommit] net-tools ifconfig.c,1.58,1.59
</A></li>
        <LI>Next message: <A HREF="000089.html">[net-tools-cvscommit] net-tools/man/en_US netstat.8,1.25,1.26
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87">[ date ]</a>
              <a href="thread.html#87">[ thread ]</a>
              <a href="subject.html#87">[ subject ]</a>
              <a href="author.html#87">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/net-tools/net-tools/lib
In directory sheep:/tmp/cvs-serv22187/lib

Modified Files:
	net-support.h interface.c 
Log Message:
Bug #17812 Fix the handling of some of the HAVE_* flags ifdef vs if. --jpa468


Index: net-support.h
===================================================================
RCS file: /cvsroot/net-tools/net-tools/lib/net-support.h,v
retrieving revision 1.16
retrieving revision 1.17
diff -C 2 -d -r1.16 -r1.17
*** net-support.h	1 Dec 2007 17:50:30 -0000	1.16
--- net-support.h	1 Jan 2011 03:22:31 -0000	1.17
***************
*** 238,242 ****
  #define RTF_NOTCACHED   0x0400          /* this route isn't cached        */
  
! #ifdef HAVE_AFECONET
  #ifndef AF_ECONET
  #define AF_ECONET       19      /* Acorn Econet */
--- 238,242 ----
  #define RTF_NOTCACHED   0x0400          /* this route isn't cached        */
  
! #if HAVE_AFECONET
  #ifndef AF_ECONET
  #define AF_ECONET       19      /* Acorn Econet */

Index: interface.c
===================================================================
RCS file: /cvsroot/net-tools/net-tools/lib/interface.c,v
retrieving revision 1.34
retrieving revision 1.35
diff -C 2 -d -r1.34 -r1.35
*** interface.c	1 Jan 2010 06:35:30 -0000	1.34
--- interface.c	1 Jan 2011 03:22:31 -0000	1.35
***************
*** 38,42 ****
  #endif
  
! #ifdef HAVE_HWSLIP
  #include &lt;linux/if_slip.h&gt;
  #include &lt;net/if_arp.h&gt;
--- 38,42 ----
  #endif
  
! #if HAVE_HWSLIP
  #include &lt;linux/if_slip.h&gt;
  #include &lt;net/if_arp.h&gt;
***************
*** 438,442 ****
  	ife-&gt;mtu = ifr.ifr_mtu;
  
! #ifdef HAVE_HWSLIP
      if (ife-&gt;type == ARPHRD_SLIP || ife-&gt;type == ARPHRD_CSLIP ||
  	ife-&gt;type == ARPHRD_SLIP6 || ife-&gt;type == ARPHRD_CSLIP6 ||
--- 438,442 ----
  	ife-&gt;mtu = ifr.ifr_mtu;
  
! #if HAVE_HWSLIP
      if (ife-&gt;type == ARPHRD_SLIP || ife-&gt;type == ARPHRD_CSLIP ||
  	ife-&gt;type == ARPHRD_SLIP6 || ife-&gt;type == ARPHRD_CSLIP6 ||
***************
*** 683,688 ****
--- 683,690 ----
      hf = ptr-&gt;type;
  
+ #if HAVE_HWSLIP
      if (hf == ARPHRD_CSLIP || hf == ARPHRD_CSLIP6)
  	can_compress = 1;
+ #endif
  
      hw = get_hwntype(hf);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000088.html">[net-tools-cvscommit] net-tools ifconfig.c,1.58,1.59
</A></li>
	<LI>Next message: <A HREF="000089.html">[net-tools-cvscommit] net-tools/man/en_US netstat.8,1.25,1.26
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#87">[ date ]</a>
              <a href="thread.html#87">[ thread ]</a>
              <a href="subject.html#87">[ subject ]</a>
              <a href="author.html#87">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/net-tools-cvscommit">More information about the net-tools-cvscommit
mailing list</a><br>
</body></html>
