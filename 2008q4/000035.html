<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [net-tools-cvscommit] net-tools ifconfig.c,1.57,1.58
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/net-tools-cvscommit/2008q4/index.html" >
   <LINK REL="made" HREF="mailto:net-tools-cvscommit%40lists.berlios.de?Subject=Re%3A%20%5Bnet-tools-cvscommit%5D%20net-tools%20ifconfig.c%2C1.57%2C1.58&In-Reply-To=%3C20081002233106.BBE1C13F58A%40mail.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000034.html">
   <LINK REL="Next"  HREF="000036.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[net-tools-cvscommit] net-tools ifconfig.c,1.57,1.58</H1>
    <B>CVS Commits for net-tools project</B> 
    <A HREF="mailto:net-tools-cvscommit%40lists.berlios.de?Subject=Re%3A%20%5Bnet-tools-cvscommit%5D%20net-tools%20ifconfig.c%2C1.57%2C1.58&In-Reply-To=%3C20081002233106.BBE1C13F58A%40mail.berlios.de%3E"
       TITLE="[net-tools-cvscommit] net-tools ifconfig.c,1.57,1.58">net-tools-cvscommit at lists.berlios.de
       </A><BR>
    <I>Fri Oct  3 01:31:06 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000034.html">[net-tools-cvscommit] net-tools/man/en_US arp.8, 1.10, 1.11 ethers.5,	1.2, 1.3 hostname.1, 1.2, 1.3 ifconfig.8, 1.13,	1.14 mii-tool.8, 1.3, 1.4 nameif.8, 1.1, 1.2 netstat.8, 1.20,	1.21 plipconfig.8, 1.1, 1.2 rarp.8, 1.5, 1.6 route.8, 1.7,	1.8 slattach.8, 1.3, 1.4
</A></li>
        <LI>Next message: <A HREF="000036.html">[net-tools-cvscommit] net-tools netstat.c, 1.56, 1.57 statistics.c,	1.20, 1.21
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35">[ date ]</a>
              <a href="thread.html#35">[ thread ]</a>
              <a href="subject.html#35">[ subject ]</a>
              <a href="author.html#35">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Update of /cvsroot/net-tools/net-tools
In directory sheep:/tmp/cvs-serv18167

Modified Files:
	ifconfig.c 
Log Message:
Avoid segfault of ifconfig(8) on missing /proc/net/dev 
(Debian Bug #222209 Pierre Lombard, Tollef Fog Heen)


Index: ifconfig.c
===================================================================
RCS file: /cvsroot/net-tools/net-tools/ifconfig.c,v
retrieving revision 1.57
retrieving revision 1.58
diff -C2 -d -r1.57 -r1.58
*** ifconfig.c	10 Dec 2002 00:56:41 -0000	1.57
--- ifconfig.c	2 Oct 2008 23:31:04 -0000	1.58
***************
*** 113,116 ****
--- 113,119 ----
  
  	ife = lookup_interface(ifname);
+ 	if (!ife) {
+ 		return -1;
+ 	}
  	res = do_if_fetch(ife); 
  	if (res &gt;= 0) 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000034.html">[net-tools-cvscommit] net-tools/man/en_US arp.8, 1.10, 1.11 ethers.5,	1.2, 1.3 hostname.1, 1.2, 1.3 ifconfig.8, 1.13,	1.14 mii-tool.8, 1.3, 1.4 nameif.8, 1.1, 1.2 netstat.8, 1.20,	1.21 plipconfig.8, 1.1, 1.2 rarp.8, 1.5, 1.6 route.8, 1.7,	1.8 slattach.8, 1.3, 1.4
</A></li>
	<LI>Next message: <A HREF="000036.html">[net-tools-cvscommit] net-tools netstat.c, 1.56, 1.57 statistics.c,	1.20, 1.21
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#35">[ date ]</a>
              <a href="thread.html#35">[ thread ]</a>
              <a href="subject.html#35">[ subject ]</a>
              <a href="author.html#35">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/net-tools-cvscommit">More information about the net-tools-cvscommit
mailing list</a><br>
</body></html>
